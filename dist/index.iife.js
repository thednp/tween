var Tween=(function(o){"use strict";var C=Object.defineProperty;var E=(o,p,u)=>p in o?C(o,p,{enumerable:!0,configurable:!0,writable:!0,value:u}):o[p]=u;var n=(o,p,u)=>E(o,typeof p!="symbol"?p+"":p,u);let p=()=>performance.now();const u=()=>p(),c=[],f=[];let I=0;function O(t=u()){let e=0;for(;e<f.length;)f[e].update(t)?e+=1:f.splice(e,1);let s=0;for(;s<c.length;)c[s].update(t)?s+=1:c.splice(s,1);!c.length&&!f.length?(cancelAnimationFrame(I),I=0):I=requestAnimationFrame(O)}const d=class d{constructor(e){n(this,"_object");n(this,"_startIsSet",!1);n(this,"_startFired",!1);n(this,"_propsStart",{});n(this,"_propsEnd",{});n(this,"_isPlaying",!1);n(this,"_duration",1e3);n(this,"_delay",0);n(this,"_easing",e=>e);n(this,"_startTime",0);n(this,"_onUpdate");n(this,"_onComplete");n(this,"_onStart");n(this,"_onStop");return this._object=e,this}get isPlaying(){return this._isPlaying}start(e=u(),s=!1){var r;return this._isPlaying?this:((!this._startIsSet||s)&&(this._startIsSet=!0,this._setupProperties(this._object,this._propsStart,this._propsEnd,s)),this._isPlaying=!0,(r=this._onStart)==null||r.call(this,this._object),c.push(this),this._startTime=e,this._startTime+=this._delay,I||O(),this)}startFromLast(e=u()){return this.start(e,!0)}stop(){return this._isPlaying?(c.splice(c.indexOf(this),1),this._isPlaying=!1,this._onStop&&this._onStop(this._object),this):this}from(e){return Object.assign(this._propsStart,e),this._startIsSet=!1,this}to(e){return this._propsEnd=e,this._startIsSet=!1,this}duration(e=1){return this._duration=e*1e3,this}delay(e=0){return this._delay=e*1e3,this}easing(e=s=>s){return this._easing=e,this}getDuration(){return this._duration}update(e=u(),s){if(!this._isPlaying)if(s)this.start(e,!0);else return!1;if(e<this._startTime)return!0;!this._startFired&&this._onStart&&(this._onStart(this._object),this._startFired=!0);let r=(e-this._startTime)/this._duration;r=this._duration===0||r>1?1:r;const h=this._easing(r);return this._updateProperties(this._object,this._propsStart,this._propsEnd,h),this._onUpdate&&this._onUpdate(this._object,r,h),r===1?(this._onComplete&&this._onComplete(this._object),this._isPlaying=!1,!1):!0}onUpdate(e){return this._onUpdate=e,this}onComplete(e){return this._onComplete=e,this}onStop(e){return this._onStop=e,this}onStart(e){return this._onStart=e,this}_updateProperties(e,s,r,h){for(const i in r){if(s[i]===void 0)continue;const _=s[i],a=r[i];if(_.constructor===a.constructor)if(typeof a=="number"){const l=_;e[i]=l+(a-l)*h}else if(d.Interpolators.has(i)){const l=d.Interpolators.get(i);e[i]=l(_,a,h)}else typeof a=="object"&&this._updateProperties(e[i],_,a,h)}}_setupProperties(e,s,r,h){for(const i in r){const _=e[i];(typeof s[i]>"u"||h)&&(s[i]=_)}}static use(e,s){d.Interpolators.has(e)||d.Interpolators.set(e,s)}};n(d,"Interpolators",new Map);let S=d;const g=class g{constructor(e){n(this,"state");n(this,"_state");n(this,"_entries",[]);n(this,"_labels",new Map);n(this,"_progress",0);n(this,"_duration",0);n(this,"_time",0);n(this,"_pauseTime",0);n(this,"_lastTime");n(this,"_isPlaying",!1);n(this,"_repeat",0);n(this,"_initialRepeat",0);n(this,"_onStart");n(this,"_onStop");n(this,"_onPause");n(this,"_onResume");n(this,"_onUpdate");n(this,"_onComplete");this.state=e,this._state={...e}}to({duration:e=1,easing:s=i=>i,...r},h="+=0"){const i=this._resolvePosition(h),_=r,a=e*1e3;this._entries.push({to:_,startTime:i,duration:a,easing:s,hasStarted:!1});const l=i+a;return this._duration=Math.max(this._duration,l),this}play(){var e;return this._pauseTime?this.resume():this._isPlaying?this:(this._isPlaying=!0,this._lastTime=void 0,this._time=0,this._resetState(),this._updateEntries(0),(e=this._onStart)==null||e.call(this,this.state,0),f.push(this),I||O(),this)}pause(){var e;return this._isPlaying?(this._isPlaying=!1,this._pauseTime=u(),(e=this._onPause)==null||e.call(this,this.state,this.progress),this):this}resume(e=u()){var r;if(this._isPlaying)return this;this._isPlaying=!0;const s=e-this._pauseTime;return this._pauseTime=0,this._lastTime=(this._lastTime||e)+s,(r=this._onResume)==null||r.call(this,this.state,this.progress),f.push(this),I||O(),this}stop(){return this._isPlaying?(this._isPlaying=!1,this._time=0,this._pauseTime=0,f.splice(f.indexOf(this),1),this._resetState(),this._updateEntries(0),this._onStop&&this._onStop(this.state,this.progress),this):this}repeat(e=0){return this._repeat=e,this._initialRepeat=e,this}seek(e){const s=this._resolvePosition(e);return this._resetState(),this._time=Math.max(0,s),this._updateEntries(this._time),this}label(e,s=this._duration){return this._labels.set(e,this._resolvePosition(s)),this}onStart(e){return this._onStart=e,this}onPause(e){return this._onPause=e,this}onResume(e){return this._onResume=e,this}onStop(e){return this._onStop=e,this}onUpdate(e){return this._onUpdate=e,this}onComplete(e){return this._onComplete=e,this}get progress(){return this._progress}get duration(){return this._duration}update(e=u()){var r;if(!this._isPlaying)return!1;this._lastTime===void 0&&(this._lastTime=e);const s=e-this._lastTime;return this._lastTime=e,this._time+=s,this._updateEntries(this._time),this._progress===1&&(this._repeat===0?(this._isPlaying=!1,this._repeat=this._initialRepeat,f.splice(f.indexOf(this),1),(r=this._onComplete)==null||r.call(this,this.state,1)):(this._repeat!==1/0&&this._repeat--,this._time=0,this._resetState(),this._updateEntries(0))),this._isPlaying}_updateEntries(e){var h;this._progress=this._duration===0||e>=this._duration?1:e/this._duration;let s=0;const r=this._entries.length;for(;s<r;){const i=this._entries[s],_=e-i.startTime,a=Math.max(0,Math.min(1,_/i.duration));if(!i.hasStarted&&a>0){i.hasStarted=!0,i.startValues={};for(const l in i.to)i.startValues[l]=this.state[l]}i.hasStarted&&this._setState(this.state,i.startValues,i.to,i.easing(a)),s+=1}(h=this._onUpdate)==null||h.call(this,this.state,this._progress)}_resolvePosition(e){if(typeof e=="number")return e*1e3;if(typeof e=="string"){const s=this._labels.get(e);if(s!==void 0)return s;if(e.startsWith("+=")||e.startsWith("-=")){let r=parseFloat(e.slice(2));return isNaN(r)&&(r=0),r*=1e3,e.startsWith("+=")?this._duration+r:Math.max(0,this._duration-r)}}return this._duration}_setState(e,s,r,h){for(const i in r){if(s[i]===void 0)continue;const _=s[i],a=r[i];if(_.constructor===(a==null?void 0:a.constructor))if(typeof a=="number"){const l=_;e[i]=l+(a-l)*h}else if(g.Interpolators.has(i)){const l=g.Interpolators.get(i);e[i]=l(_,a,h)}else typeof a=="object"&&this._setState(e[i],_,a,h)}}_resetState(){Object.assign(this.state,this._state);let e=0;const s=this._entries.length;for(;e<s;){const r=this._entries[e];r.hasStarted=!1,r.startValues=void 0,e+=1}}static use(e,s){g.Interpolators.has(e)||g.Interpolators.set(e,s)}};n(g,"Interpolators",new Map);let M=g;const y=Object.freeze({Linear:Object.freeze({None(t){return t},In(t){return t},Out(t){return t},InOut(t){return t}}),Quadratic:Object.freeze({In(t){return t*t},Out(t){return t*(2-t)},InOut(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}}),Cubic:Object.freeze({In(t){return t*t*t},Out(t){return--t*t*t+1},InOut(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}}),Quartic:Object.freeze({In(t){return t*t*t*t},Out(t){return 1- --t*t*t*t},InOut(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}}),Quintic:Object.freeze({In(t){return t*t*t*t*t},Out(t){return--t*t*t*t*t+1},InOut(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}}),Sinusoidal:Object.freeze({In(t){return 1-Math.sin((1-t)*Math.PI/2)},Out(t){return Math.sin(t*Math.PI/2)},InOut(t){return .5*(1-Math.sin(Math.PI*(.5-t)))}}),Exponential:Object.freeze({In(t){return t===0?0:Math.pow(1024,t-1)},Out(t){return t===1?1:1-Math.pow(2,-10*t)},InOut(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}}),Circular:Object.freeze({In(t){return 1-Math.sqrt(1-t*t)},Out(t){return Math.sqrt(1- --t*t)},InOut(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}}),Elastic:Object.freeze({In(t){return t===0?0:t===1?1:-Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI)},Out(t){return t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t-.1)*5*Math.PI)+1},InOut(t){return t===0?0:t===1?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin((t-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In(t){return t===1?1:t*t*((1.70158+1)*t-1.70158)},Out(t){return t===0?0:--t*t*((1.70158+1)*t+1.70158)+1},InOut(t){const e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)}}),Bounce:Object.freeze({In(t){return 1-y.Bounce.Out(1-t)},Out(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut(t){return t<.5?y.Bounce.In(t*2)*.5:y.Bounce.Out(t*2-1)*.5+.5}}),pow(t=4){return t=t<Number.EPSILON?Number.EPSILON:t,t=t>1e4?1e4:t,{In(e){return e**t},Out(e){return 1-(1-e)**t},InOut(e){return e<.5?(e*2)**t/2:(1-(2-e*2)**t)/2+.5}}}});function j(t,e,s){if(s===0&&t.length!==e.length)return console.warn("Array length mismatch."),t;const r=[],h=e.length;let i=0;for(;i<h;)r.push(t[i]+(e[i]-t[i])*s),i+=1;return r}function w(t,e,s){if(s===0&&t.length!==e.length)return console.warn("Path length mismatch. Returning start path."),t;const r=[];for(let h=0;h<e.length;h+=1){const[i,_]=[t[h][0],t[h].slice(1)],[a,l]=[e[h][0],e[h].slice(1)],b=i!==a;if(s===0&&(_.length!==l.length||b))return console.warn((b?"PathCommand":"Params")+" mismatch at index: "+h+". Returning start path."),t;if(i.toUpperCase()==="Z")r.push(["Z"]);else{const T=[];for(let P=0;P<l.length;P+=1)T.push(_[P]+(l[P]-_[P])*s);r.push([a,...T])}}return r}return o.Easing=y,o.Timeline=M,o.Tween=S,o.interpolateArray=j,o.interpolatePath=w,Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),o})({});
//# sourceMappingURL=index.iife.js.map
