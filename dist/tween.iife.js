var TWEEN=(function(o){"use strict";let S=()=>performance.now();const p=()=>S();function I(t){S=t}const f=[];function d(t){const e=t;f.includes(e)||(f.push(e),g||O())}function P(t){f.splice(f.indexOf(t),1)}let g=0;function O(t=p()){let e=0;for(;e<f.length;)f[e].update(t)?e+=1:f.splice(e,1);f.length===0?(cancelAnimationFrame(g),g=0):g=requestAnimationFrame(O)}class M{_interpolators=new Map;_state;_startIsSet=!1;_startFired=!1;_propsStart={};_propsEnd={};_isPlaying=!1;_duration=1e3;_delay=0;_easing=e=>e;_startTime=0;_onUpdate;_onComplete;_onStart;_onStop;constructor(e){return this._state=e,this}get isPlaying(){return this._isPlaying}start(e=p(),s=!1){return this._isPlaying?this:((!this._startIsSet||s)&&(this._startIsSet=!0,this._setProps(this._state,this._propsStart,this._propsEnd,s)),this._isPlaying=!0,this._startTime=e,this._startTime+=this._delay,d(this),this)}startFromLast(e=p()){return this.start(e,!0)}stop(){return this._isPlaying?(P(this),this._isPlaying=!1,this._onStop?.(this._state),this):this}from(e){return Object.assign(this._propsStart,e),this._startIsSet=!1,this}to(e){return this._propsEnd=e,this._startIsSet=!1,this}duration(e=1){return this._duration=e*1e3,this}delay(e=0){return this._delay=e*1e3,this}easing(e=s=>s){return this._easing=e,this}getDuration(){return this._duration}update(e=p(),s){if(!this._isPlaying)if(s)this.start(e,!0);else return!1;if(e<this._startTime)return!0;!this._startFired&&this._onStart&&(this._onStart(this._state),this._startFired=!0);let r=(e-this._startTime)/this._duration;r=this._duration===0||r>1?1:r;const i=this._easing(r);return this._setState(this._state,this._propsStart,this._propsEnd,i),this._onUpdate?.(this._state,r,i),r===1?(this._onComplete?.(this._state),this._isPlaying=!1,!1):!0}onStart(e){return this._onStart=e,this}onUpdate(e){return this._onUpdate=e,this}onComplete(e){return this._onComplete=e,this}onStop(e){return this._onStop=e,this}_setState(e,s,r,i){const n=Object.entries(r),_=n.length;let a=0;for(;a<_;){const[h,l]=n[a];if(a++,s[h]===void 0)continue;const u=s[h];if(u.constructor===l?.constructor)if(this._interpolators.has(h)){const c=this._interpolators.get(h);e[h]=c(u,l,i)}else typeof l=="number"?e[h]=u+(l-u)*i:typeof l=="object"&&this._setState(e[h],u,l,i)}}_setProps(e,s,r,i){const n=Object.keys(r);for(const _ of n){const a=e[_];(typeof s[_]>"u"||i)&&(s[_]=a)}}use(e,s){return this._interpolators.has(e)||this._interpolators.set(e,s),this}}class T{state;_state;_entries=[];_labels=new Map;_progress=0;_duration=0;_time=0;_pauseTime=0;_lastTime;_isPlaying=!1;_repeat=0;_initialRepeat=0;_interpolators=new Map;_onStart;_onStop;_onPause;_onResume;_onUpdate;_onComplete;constructor(e){this.state=e,this._state={...e}}to({duration:e=1,easing:s=n=>n,...r},i="+=0"){const n=this._resolvePosition(i),_=r,a=e*1e3;this._entries.push({to:_,startTime:n,duration:a,easing:s,hasStarted:!1});const h=n+a;return this._duration=Math.max(this._duration,h),this}play(){return this._pauseTime?this.resume():this._isPlaying?this:(this._isPlaying=!0,this._lastTime=void 0,this._time=0,this._resetState(),this._updateEntries(0),this._onStart?.(this.state,0),d(this),this)}pause(){return this._isPlaying?(this._isPlaying=!1,this._pauseTime=p(),this._onPause?.(this.state,this.progress),this):this}resume(e=p()){if(this._isPlaying)return this;this._isPlaying=!0;const s=e-this._pauseTime;return this._pauseTime=0,this._lastTime=(this._lastTime||e)+s,this._onResume?.(this.state,this.progress),d(this),this}stop(){return this._isPlaying?(this._isPlaying=!1,this._time=0,this._pauseTime=0,P(this),this._resetState(),this._updateEntries(0),this._onStop?.(this.state,this._progress),this):this}repeat(e=0){return this._repeat=e,this._initialRepeat=e,this}seek(e){const s=this._resolvePosition(e);return this._resetState(),this._time=Math.max(0,s),this._updateEntries(this._time),this}label(e,s){return this._labels.set(e,this._resolvePosition(s)),this}onStart(e){return this._onStart=e,this}onPause(e){return this._onPause=e,this}onResume(e){return this._onResume=e,this}onStop(e){return this._onStop=e,this}onUpdate(e){return this._onUpdate=e,this}onComplete(e){return this._onComplete=e,this}get progress(){return this._progress}get duration(){return this._duration}get isPlaying(){return this._isPlaying}get isPaused(){return!this._isPlaying&&this._pauseTime>0}update(e=p()){if(!this._isPlaying)return!1;this._lastTime===void 0&&(this._lastTime=e);const s=e-this._lastTime;return this._lastTime=e,this._time+=s,this._updateEntries(this._time),this._progress===1&&(this._repeat===0?(this._isPlaying=!1,this._repeat=this._initialRepeat,this._onComplete?.(this.state,1)):(this._repeat!==1/0&&this._repeat--,this._time=0,this._resetState(),this._updateEntries(0))),this._isPlaying}_updateEntries(e){this._progress=this._duration===0||e>=this._duration?1:e/this._duration;let s=0;const r=this._entries.length;for(;s<r;){const i=this._entries[s],n=e-i.startTime,_=Math.max(0,Math.min(1,n/i.duration));if(!i.hasStarted&&_>0){i.hasStarted=!0,i.startValues={};for(const a in i.to)i.startValues[a]=this.state[a]}i.hasStarted&&this._setState(this.state,i.startValues,i.to,i.easing(_)),s+=1}this._onUpdate?.(this.state,this._progress)}_resolvePosition(e){if(typeof e=="number")return e*1e3;if(typeof e=="string"){const s=this._labels.get(e);if(s!==void 0)return s;if(e.startsWith("+=")||e.startsWith("-=")){let r=parseFloat(e.slice(2));return isNaN(r)&&(r=0),r*=1e3,e.startsWith("+=")?this._duration+r:Math.max(0,this._duration-r)}}return this._duration}_setState(e,s,r,i){const n=Object.entries(r),_=n.length;let a=0;for(;a<_;){const[h,l]=n[a];if(a++,s[h]===void 0)continue;const u=s[h];if(u.constructor===l?.constructor)if(this._interpolators.has(h)){const c=this._interpolators.get(h);e[h]=c(u,l,i)}else typeof l=="number"?e[h]=u+(l-u)*i:typeof l=="object"&&this._setState(e[h],u,l,i)}}_resetState(){Object.assign(this.state,this._state);let e=0;const s=this._entries.length;for(;e<s;){const r=this._entries[e];r.hasStarted=!1,r.startValues=void 0,e+=1}}clear(){return this._entries.length=0,this._duration=0,this._labels.clear(),this._time=0,this._progress=0,this._pauseTime=0,this._lastTime=void 0,this._repeat=this._initialRepeat,this}use(e,s){return this._interpolators.has(e)||this._interpolators.set(e,s),this}}const y=Object.freeze({Linear:Object.freeze({None(t){return t},In(t){return t},Out(t){return t},InOut(t){return t}}),Quadratic:Object.freeze({In(t){return t*t},Out(t){return t*(2-t)},InOut(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}}),Cubic:Object.freeze({In(t){return t*t*t},Out(t){return--t*t*t+1},InOut(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}}),Quartic:Object.freeze({In(t){return t*t*t*t},Out(t){return 1- --t*t*t*t},InOut(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}}),Quintic:Object.freeze({In(t){return t*t*t*t*t},Out(t){return--t*t*t*t*t+1},InOut(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}}),Sinusoidal:Object.freeze({In(t){return 1-Math.sin((1-t)*Math.PI/2)},Out(t){return Math.sin(t*Math.PI/2)},InOut(t){return .5*(1-Math.sin(Math.PI*(.5-t)))}}),Exponential:Object.freeze({In(t){return t===0?0:Math.pow(1024,t-1)},Out(t){return t===1?1:1-Math.pow(2,-10*t)},InOut(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}}),Circular:Object.freeze({In(t){return 1-Math.sqrt(1-t*t)},Out(t){return Math.sqrt(1- --t*t)},InOut(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}}),Elastic:Object.freeze({In(t){return t===0?0:t===1?1:-Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI)},Out(t){return t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t-.1)*5*Math.PI)+1},InOut(t){return t===0?0:t===1?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin((t-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In(t){return t===1?1:t*t*((1.70158+1)*t-1.70158)},Out(t){return t===0?0:--t*t*((1.70158+1)*t+1.70158)+1},InOut(t){const e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)}}),Bounce:Object.freeze({In(t){return 1-y.Bounce.Out(1-t)},Out(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut(t){return t<.5?y.Bounce.In(t*2)*.5:y.Bounce.Out(t*2-1)*.5+.5}}),pow(t=4){return t=t<Number.EPSILON?Number.EPSILON:t,t=t>1e4?1e4:t,{In(e){return e**t},Out(e){return 1-(1-e)**t},InOut(e){return e<.5?(e*2)**t/2:(1-(2-e*2)**t)/2+.5}}}}),b=(t,e,s)=>{if(s===0&&t.length!==e.length)return console.warn("Array length mismatch. Returning first array."),t;const r=[],i=e.length;let n=0;for(;n<i;)r.push(t[n]+(e[n]-t[n])*s),n+=1;return r},w=(t,e,s)=>{if(s===0&&t.length!==e.length)return console.warn("Path length mismatch. Returning start path."),t;const r=[];for(let i=0;i<e.length;i+=1){const[n,_]=[t[i][0],t[i].slice(1)],[a,h]=[e[i][0],e[i].slice(1)],l=n!==a;if(s===0&&(_.length!==h.length||l))return console.warn((l?"PathCommand":"Params")+" mismatch at index: "+i+". Returning start path."),t;if(n.toUpperCase()==="Z")r.push(["Z"]);else{const u=[];for(let c=0;c<h.length;c+=1)u.push(_[c]+(h[c]-_[c])*s);r.push([a,...u])}}return r};return o.Easing=y,o.Queue=f,o.Runtime=O,o.Timeline=T,o.Tween=M,o.addToQueue=d,o.interpolateArray=b,o.interpolatePath=w,o.now=p,o.removeFromQueue=P,o.setNow=I,Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),o})({});
//# sourceMappingURL=tween.iife.js.map
